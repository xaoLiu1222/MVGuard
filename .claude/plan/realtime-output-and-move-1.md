# MVGuard 功能增强实施规划文档 v2

## 1. 目标定义

### 1.1 需求概述
| 需求编号 | 需求描述 | 优先级 |
|---------|---------|-------|
| REQ-01 | 每审查完一个视频后在UI界面实时输出审查结果 | 高 |
| REQ-02 | 将审查通过的MV移动到指定目录 | 高 |
| REQ-03 | 保留不合规文件移动目录功能 | 高 |

### 1.2 目标状态

- 每完成一个视频检测，UI 立即显示该视频的结果
- **合规**的 MV 文件自动移动到用户指定的"合规目录"
- **不合规**的 MV 文件自动移动到用户指定的"不合规目录"
- 两个目录均为可选，留空则不移动

---

## 2. 实施步骤

### 步骤 1: 修改 UI - 添加合规文件目录输入框（app.py）

在现有的"不合规文件移动目录"旁边添加"合规文件移动目录"输入框

### 步骤 2: 将 process_videos 改为 generator 函数（app.py）

1. 添加 `compliant_dir` 参数
2. 改为 generator 模式，每处理完一个视频 `yield` 一次
3. 合规文件移动到合规目录，不合规文件移动到不合规目录

### 步骤 3: 更新按钮绑定的 inputs

添加新的合规目录输入到 inputs 列表

---

## 3. 验收标准

| 测试项 | 验收标准 |
|-------|---------|
| 实时输出 | 每完成一个视频检测，UI 立即更新 |
| 合规文件移动 | 合规视频移动到合规目录 |
| 不合规文件移动 | 不合规视频移动到不合规目录 |
| 目录可选 | 两个目录均可留空 |

---

## 4. 关键文件

- `app.py` - UI 和 process_videos 函数
